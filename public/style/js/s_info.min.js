function img_check(a, b, c, d) {
    var e = $("#" + d).val();
    this.AllowExt = ".jpg,.gif,.jpeg,.png,.pjpeg",
    this.FileExt = a.value.substr(a.value.lastIndexOf(".")).toLowerCase(),
    0 != this.AllowExt && -1 == this.AllowExt.indexOf(this.FileExt) ? $("#" + c + "_error").text("只支持jpg、gif、png、jpeg格式，请重新上传").show() : ($("#" + c + "_error").text("").hide(),
    $.ajaxFileUpload({
        url: b,
        secureuri: !1,
        fileElementId: c,
        data: {
            type: e
        },
        dataType: "text",
        success: function(a) {
            "" != a ? ($("#logoShow img").attr("src", ctx + "/" + a),
            $("#logoNo").hide(),
            $("#logoShow").show(),
            $("#logo").val(a)) : $("#" + c + "_error").text("上传失败，请重新上传").show()
        },
        error: function() {
            $("#" + c + "_error").text("上传失败，请重新上传").show()
        }
    }))
}
$(function() {
    var b, c, a = !1;

    $("#stepTip a").bind("click", function() {
        $(this).parent("#stepTip").remove()
    }),
    b = {
        expires: 1
    },

    $(document).click(function() {
        var a = [];
        $("#box_industry li.current").length > 1 ? alert("工作年龄最多可选1个") : ($("#box_industry li.current").each(function() {
            a.push($(this).text())
        }),
        "" == a.join() ? $("#seeker_now_button").val("请选择工作年龄") : $("#seeker_now_button").val(a.join()),
        $("#seeker_email").val(a.join()),
        $("#box_industry").hide()),
        $("#box_industry").hide(),
        $("#box_scale").hide(),
        $("#stagesList .box_invest").hide()
    }),
    $("#seeker_now_button").bind("click", function(a) {
        a.stopPropagation(),
        $("#box_industry").show(),
        $("#box_scale").hide(),
        $("#stagesList .box_invest").hide()
    }),
    $("#box_industry").on("click", "ul li", function(a) {
        a.stopPropagation();

           var b = $(this).text();
        $("#seeker_now,#seeker_now_button").val(b),
        $("#box_industry").hide()

      
      
    }),
    $("#seeker_edu_button").bind("click", function(a) {
        a.stopPropagation(),
        $("#box_scale").show(),
        $("#box_industry").hide(),
        $("#stagesList .box_invest").hide()
    }),
    $("#box_scale").on("click", "ul li", function(a) {
        a.stopPropagation();
        var b = $(this).text();
        $("#seeker_edu_button,#seeker_edu_education").val(b),
        $("#box_scale").hide(),
        $("#stepForm").validate().element("#seeker_edu_education")
    }),
    $("#box_industry,#box_scale").bind("click", function(a) {
        a.stopPropagation()
    }),
    $(".s_radio li").click(function() {
        var b = $(this).text();
        $("#seeker_sex").val(b),
        $(this).addClass("current").append("<em></em>").siblings().removeClass("current").find("em").remove(),
        $("#stepForm").validate().element("#seeker_sex")
    }),
    $("#stagesList").on("click", ".select_invest", function(a) {
        a.stopPropagation(),
        $("#box_scale").hide(),
        $("#box_industry").hide(),
        $(this).parents("li").siblings().children(".box_invest").hide(),
        $(this).siblings(".box_invest").show()
    }),
    $("#stagesList").on("click", ".box_invest li", function(a) {
        var b, c;
        a.stopPropagation(),
        b = $(this).html(),
        c = $(this).parents("li"),
        $(".select_invest,.select_invest_hidden", c).val(b),
        $(this).parents(".box_invest").hide(),
        c.index() == $("#stagesList > li").length - 1 && $("#stagesList > li").length < 10 && c.children(".select_invest").trigger("change")
    }),
    $("#stagesList").on("change", ".select_invest", function() {
        var a = $("#cloneInvest").html();
        $("#stagesList").append("<li>" + a + "</li>")
    }),
    $("#stepForm").validate({
        onkeyup: !1,
        focusCleanup: !0,
        rules: {
            name: {
                required: !0,
                specialchar: !0,
                maxlenStr: 100
            },
            myfiles: {
                required: !1
            },
            seeker_user_phone: {
                required: !0,
                checkUrl: !0,
                maxlength: 120
            },
            seeker_living: {
                required: !0,
                seeker_livingAvailable: !0,
                maxlenStr: 20
            },
            seeker_email: {
                required: !0
            },
            seeker_edu_education: {
                required: !0
            },
            s_radio_hidden: {
                required: !0
            },
            select_invest_hidden: {
                required: !1
            },
            stageorg: {
                required: !1,
                maxlenStr: 100
            },
            seeker_self: {
                required: !0,
                checkNum: !0,
                minlength: 5,
                maxlenStr: 50
            }
        },
        messages: {
            name: {
                required: "请输入本人姓名",
                specialchar: "请输入本人姓名"
            },
            seeker_user_phone: {
                required: "请输入你的手机号码"
            },
            seeker_living: {
                required: "请输入本人所在城市，如：北京",
                maxlenStr: "请输入有效的本人所在城市"
            },
            seeker_email: {
                required: "请选择你的邮箱地址"
            },
            seeker_edu_education: {
                required: "请选择你的学历"
            },
            seeker_sex: {
                required: "请选择本人性别"
            },
            seeker_now: {
                required: "请选择你的工作年龄"
            },
            seeker_self: {
                required: "请简单的做一个个人的自我介绍，限50字",
                minlength: "请输入5-50字的一句话介绍",
                maxlenStr: "请输入5-50字的一句话介绍"
            }
        },
        errorPlacement: function(a, b) {
            "hidden" == b.attr("type") ? a.insertAfter($(b).parent()) : a.insertAfter(b)
        },

    })

});
